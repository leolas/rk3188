# Omegamoon >> 
# Mali setup for the rk3066 and rk3188 SOCs
# Mostly reverse engineered from (closed source) Rockchip driver
# Omegamoon <<

CONFIG:=rk3x
TARGET_PLATFORM:=rk30
# TARGET_PLATFORM:=mali400-pmu
MALI_PLATFORM:=rk30
KDIR:=$(shell pwd)/drivers/gpu/mali/rk3x
OS_MEMORY_KERNEL_BUFFER_SIZE_IN_MB:=16
USING_UMP:=y
USING_PROFILING:=
USING_INTERNAL_PROFILING:=
USING_GPU_UTILIZATION:=1
MALI_UPPER_HALF_SCHEDULING:=1
BUILD:=release
    
USING_MMU:=1
USING_PMM:=1

export CONFIG TARGET_PLATFORM MALI_PLATFORM KDIR OS_MEMORY_KERNEL_BUFFER_SIZE_IN_MB USING_UMP USING_PROFILING USING_INTERNAL_PROFILING USING_GPU_UTILIZATION MALI_UPPER_HALF_SCHEDULING BUILD USING_MMU USING_PMM

obj-$(CONFIG_MALI) += ump/ mali/
